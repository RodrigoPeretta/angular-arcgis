"use strict";function MapService(){return mapObject}function Map(){return{restrict:"E",link:function(e,a,t,r){r.init(a)}}}function MapCtrl(e,a,t,r){function i(){n||(n=document.createElement("div"),n.setAttribute("id",t.id),a.$element.removeAttr("id"),a.$element.append(n))}function c(){if(a.mapService.map&&n){var r={center:t.center?JSON.parse(t.center):[-56.049,38.485],zoom:t.zoom?parseInt(t.zoom):10,basemap:t.basemap?t.basemap:"streets"};a.map=new a.mapService.map(t.id,r),a.map.on("load",function(){e.$broadcast("map-load")}),a.map.on("click",function(a){e.$broadcast("map-click",a)})}}var n;a.$element,a.mapService=r,a.mapService.scope=a,this.init=function(e){if(!t.id)throw new Error("'id' is required for a map.");a.$element=e,a.mapService.map&&a.recreateMap()},a.recreateMap=function(){i(),c()}}angular.module("esri.map",[]).directive("Map",Map).factory("MapService",MapService).controller("MapCtrl",MapCtrl);var mapObject=function(){this.map=void 0};require(["esri/map"],function(e){mapObject.map=e,mapObject.scope.recreateMap()}),MapCtrl.$inject=["$rootScope","$scope","$attrs","MapService"];